# ShopRewards Hub - Environment Variables Template
# Copy this file to .env and fill in your values
# Generate encryption key: openssl rand -hex 32

# ============================================
# SECURITY (REQUIRED)
# ============================================

# Master encryption key for AES-256-GCM (32-byte hex, 64 characters)
ENCRYPTION_KEY=

# JWT secret for authentication (minimum 32 characters)
JWT_SECRET=

# ============================================
# DATABASE
# ============================================

# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# Dev (Docker): postgresql://shoprewards:devpassword@db:5432/shoprewards
# Prod: Use managed database URL from wizard or config
DATABASE_URL=postgresql://shoprewards:devpassword@db:5432/shoprewards

# ============================================
# SERVICES
# ============================================

# Valkey (Redis-compatible cache)
VALKEY_URL=redis://cache:6379
VALKEY_PASSWORD=

# RabbitMQ
RABBITMQ_URL=amqp://shoprewards:devpassword@queue:5672
RABBITMQ_USER=shoprewards
RABBITMQ_PASSWORD=devpassword
RABBITMQ_VHOST=/

# MinIO (Object Storage)
MINIO_ENDPOINT=storage
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ROOT_USER=shoprewards
MINIO_ROOT_PASSWORD=shoprewards123!
MINIO_ACCESS_KEY=shoprewards
MINIO_SECRET_KEY=shoprewards123!
MINIO_BROWSER=on

# Ollama (AI/OCR - connects to existing container)
OLLAMA_URL=http://ollama:11434

# ============================================
# APPLICATION
# ============================================

NODE_ENV=development
PORT=4000

# Next.js
NEXT_PUBLIC_API_URL=http://localhost:4000
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=

# ============================================
# SETUP WIZARD
# ============================================

# Set to true after completing setup wizard
SETUP_COMPLETED=false

# Super admin credentials (for initial seed)
SUPER_ADMIN_EMAIL=admin@shoprewards.local
SUPER_ADMIN_PASSWORD=ChangeMe123!

# ============================================
# INTEGRATIONS (Configured via Wizard)
# ============================================

# SMTP (Email)
SMTP_HOST=
SMTP_PORT=
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=
SMTP_SECURE=true

# Stripe (Payment)
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# PayPal (Payment)
PAYPAL_CLIENT_ID=
PAYPAL_CLIENT_SECRET=
PAYPAL_MODE=sandbox

# Twilio (SMS)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# Firebase Cloud Messaging (Push Notifications)
FCM_SERVER_KEY=
FCM_PROJECT_ID=

# ============================================
# MONITORING (Optional)
# ============================================

# Sentry (Error tracking)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# Matomo (Analytics)
MATOMO_URL=
MATOMO_SITE_ID=

# ============================================
# FEATURE FLAGS
# ============================================

# Enable Ollama OCR integration
ENABLE_OLLAMA_OCR=true

# Enable real-time alerts (Socket.io)
ENABLE_REALTIME_ALERTS=true

# Enable GDPR auto-delete cron
ENABLE_GDPR_AUTODELE=true

# ============================================
# DEVELOPMENT
# ============================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable debug mode
DEBUG=false

# Disable telemetry
NEXT_TELEMETRY_DISABLED=1
